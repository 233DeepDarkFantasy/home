
CC=gcc
CFLAGS=-DBUILD_DLL -o

all: libmathfuns.dll

libmathfuns.dll: mathfunsobj
	 $(CC) -shared -o ./code/bin/libmathfuns.dll -static-libgcc mathfuns.o -Wl,--add-stdcall-alias,-output-def=libmathfuns.def
	 del mathfuns.o
    
mathfunsobj: ./code/gcc/mathfuns.c
	 $(CC) -c $(CFLAGS) mathfuns.o ./code/gcc/mathfuns.c
     
clean:
	 del .\code\bin\libmathfuns.dll
